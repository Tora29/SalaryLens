---
allowed-tools: Read, Write, Edit, Glob, Grep, AskUserQuestion
description: "UIコンポーネントを分割してリファクタリングします"
---

# Custom Command: Refactor UI Components

指定されたルートファイル内のJSX（UI部分）が肥大化しているため、可読性を高めるためにコンポーネント分割を行ってください。

## リファクタリング手順

1. **Route Folderの作成 (必要な場合):**
   - 対象が単一ファイル（例: `routes/users.tsx`）の場合、同名のディレクトリを作成し (`routes/users/`)、その中に `route.tsx` として本体を移動してください。
   - 既にディレクトリ構成の場合はそのまま進めてください。

2. **コンポーネントの分離:**
   - 指定されたUI部分（または巨大な部分）を、別コンポーネントとして切り出してください。
   - 切り出したコンポーネントは、**`components/` サブディレクトリ**に配置してください。
   - 共通の型や定数がある場合は `types.ts` に集約してください。
   - **重要:** 汎用的な部品でない限り、`app/components/`（グローバル）には移動しないでください。

3. **Propsの設計:**
   - 親コンポーネントから必要なデータのみを Props として渡すように設計してください。
   - `loader` のデータ型全体を渡すのではなく、必要な断片のみを渡すことを推奨します。

## 出力要件

- 新しいディレクトリ構成案
- 新規作成するコンポーネントコード
- 修正後の親コンポーネントコード

---

## 実行手順

まず、AskUserQuestion ツールを使ってユーザーに以下を質問してください：

1. 「対象のファイルを入力してください（例: app/routes/users.tsx）」
2. 「切り出したい箇所を教えてください（例: ユーザーリストのテーブル部分）」

ユーザーから回答を得てから、上記のルールに従ってリファクタリングを開始してください。
